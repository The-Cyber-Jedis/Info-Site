<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>UTSA Cyber Jedis | Episode</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../../styles.css">
  <script src="../../.path"></script>
  <script>
    if (window.siteConfig?.pageTitles?.episode) document.title = window.siteConfig.pageTitles.episode;
  </script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
  <header>
    <h1>EPISODE Team</h1>
    <nav>
      <ul class="nav-links">
        <li><a href="../../index.html">Home</a></li>
        <li><a href="../../CONNECT/connect.html">Connect</a></li>
        <li><a href="../../MERCH/merch.html">Merch</a></li>
        <li class="dropdown">
          <a href="#">Teams</a>
          <ul class="dropdown-content">
            <li><a href="episode.html">EPISODE</a></li>
            <li><a href="../ORDER404/order404.html">ORDER404</a></li>
            <li><a href="../RESEARCH/research.html">RESEARCH</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </header>
  <main>
    <h2>Episode Posts</h2>
    <p style="max-width:800px; margin:0 auto 1.5rem; text-align:center;">ReplaceMeReplaceMeReplaceMeReplaceMeReplaceMeReplaceMeReplaceMeReplaceMeReplaceMeReplaceMeReplaceMeReplaceMeReplaceMeReplaceMeReplaceMe</p>
    <div id="posts-container" class="posts-grid"></div>

    <div id="post-modal" class="hidden">
      <div id="modal-content">
        <button onclick="document.getElementById('post-modal').classList.add('hidden')">Close [x]</button>
        <div id="modal-body"></div>
      </div>
    </div>
  </main>
  <footer>
    <p id="copyright">&copy; 2026 The UTSA Cyber Jedis</p>
  </footer>
  <script src="../../bg-effect.js"></script>
  <script src="../../site-data.js"></script>
  <script>
    async function loadEpisode() {
      const container = document.getElementById('posts-container');
      const posts = siteData.posts.episode || [];
      for(const p of posts) {
        const res = await fetch("../../" + p);
        const text = await res.text();
        const firstLine = text.split('\n')[0].replace('#','').trim();
        const card = document.createElement('div');
        card.className = "post-card";
        card.innerHTML = `
          <div class="post-group-label">EPISODE</div>
          <h3>${firstLine}</h3>
          <p>Click to read more...</p>
        `;
        card.onclick = () => {
          document.getElementById('modal-body').innerHTML = marked.parse(text);
          document.getElementById('post-modal').classList.remove('hidden');
        };
        container.appendChild(card);
      }
    }
    loadEpisode();
  </script>
  <script>
    // Update dynamic content from config
    if (window.siteConfig) {
      const copyrightEl = document.getElementById('copyright');
      if (copyrightEl) copyrightEl.innerHTML = `&copy; ${window.siteConfig.copyrightYear} ${window.siteConfig.copyrightOwner}`;
    }
  </script>
</body>
</html>

